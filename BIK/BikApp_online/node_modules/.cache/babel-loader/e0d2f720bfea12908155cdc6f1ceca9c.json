{"ast":null,"code":"var _jsxFileName = \"/Users/graj/projects/e-commerece/src/components/App.js\";\nimport React, { useState, useEffect, useReducer } from 'react';\nimport '../css/App.css';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Signin from './Signin';\nimport Signup from './Signup';\nimport Menu from './Menu';\nimport ProductCard from './ProductCard';\nimport Filter from './Filter';\n\nfunction App() {\n  const [products, setProducts] = useState([]);\n  const [filteredProducts, setfilteredProducts] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  useEffect(() => {\n    fetch(\"http://localhost:8000/products/\").then(res => res.json()).then(jsonResponse => {\n      if (jsonResponse) {\n        setProducts(jsonResponse);\n        setfilteredProducts(jsonResponse);\n      }\n    });\n  }, []);\n  useEffect(() => {\n    setfilteredProducts([...products].filter(product => {\n      return product.name.toLowerCase().includes(search.toLowerCase());\n    }));\n  }, [search, filteredProducts]);\n\n  const handleSearch = value => {\n    setSearch(value);\n  };\n\n  const handleChangeSort = sort => {\n    if (sort != '') {\n      const updated = [...products].sort((a, b) => {\n        return sort == \"lowest\" ? a.price > b.price ? 1 : -1 : a.price < b.price ? 1 : -1;\n      });\n      setfilteredProducts(updated);\n    } else {\n      const updated = [...products].sort((a, b) => {\n        return a.id < b.id ? 1 : -1;\n      });\n      setfilteredProducts(updated);\n    }\n  };\n\n  const onAddCart = value => {\n    console.log(value, \"Asd\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    title: \"AGRI-Cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Menu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Filter, {\n    count: filteredProducts.length,\n    handleChangeSort: handleChangeSort,\n    handleSearch: handleSearch,\n    search: search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 14\n    }\n  }), /*#__PURE__*/React.createElement(ProductCard, {\n    products: filteredProducts,\n    onAddCart: onAddCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/graj/projects/e-commerece/src/components/App.js"],"names":["React","useState","useEffect","useReducer","Header","Footer","Signin","Signup","Menu","ProductCard","Filter","App","products","setProducts","filteredProducts","setfilteredProducts","search","setSearch","fetch","then","res","json","jsonResponse","filter","product","name","toLowerCase","includes","handleSearch","value","handleChangeSort","sort","updated","a","b","price","id","onAddCart","console","log","length"],"mappings":"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","sourcesContent":["import React,{useState,useEffect,useReducer} from 'react';\nimport '../css/App.css';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Signin from './Signin';\nimport Signup from './Signup';\nimport Menu from './Menu';\nimport ProductCard from './ProductCard';\nimport Filter from './Filter';\n\n\nfunction App() {\n\n  const [products,setProducts] = useState([]);\n  const [filteredProducts, setfilteredProducts] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  \n\n  useEffect(() => {\n    fetch(\"http://localhost:8000/products/\")\n    .then(res => res.json())\n    .then(jsonResponse => { \n      if(jsonResponse){\n        setProducts(jsonResponse);\n        setfilteredProducts(jsonResponse);\n      }\n    })\n  }, []);\n\n  useEffect(() => {\n    setfilteredProducts(\n      [...products].filter(product => {\n        return product.name.toLowerCase().includes(search.toLowerCase())\n      }))\n  }, [search,filteredProducts])\n \n  const handleSearch = (value) => {\n    setSearch(value)\n  }\n  \n\n\n  const handleChangeSort = (sort) => {\n      if(sort!=''){\n          const updated =  [...products].sort((a,b) => {\n            return (sort==\"lowest\")?(a.price > b.price?1:-1):(a.price < b.price?1:-1)\n          });\n         setfilteredProducts(updated)\n      }\n      else{\n        const updated = [...products].sort((a,b)=> { return (a.id < b.id ?1:-1)});\n        setfilteredProducts(updated)\n      }\n  } \n\n  const onAddCart = (value) => {\n    console.log(value,\"Asd\");\n  }\n\n\n  return (\n    <div className=\"App\">\n      <Header title=\"AGRI-Cart\"/>\n      {/* <Signup />\n      <Signin/> */}\n      <Menu/>\n      <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-md-8\">\n             <Filter count={filteredProducts.length} handleChangeSort={handleChangeSort} handleSearch = {handleSearch} search={search} />\n              <ProductCard products={filteredProducts} onAddCart={onAddCart}/>\n            </div>\n          <div className=\"col-md-4\">\n\n        </div>\n        </div>\n      </div>\n      <Footer/>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}