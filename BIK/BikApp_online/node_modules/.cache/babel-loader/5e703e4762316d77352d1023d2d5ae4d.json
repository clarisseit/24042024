{"ast":null,"code":"import { FETCH_CART_ITEMS, REMOVE_FROM_CART, ADD_TO_CART } from \"../actions/types\";\n\nconst cartReducer = (state, action) => {\n  switch (action.type) {\n    case FETCH_CART_ITEMS:\n      return { ...state,\n        cartItems: action.data\n      };\n\n    case REMOVE_FROM_CART:\n      {\n        const update = [...state.cartItems].filter(item => {\n          if (item.id === action.data.id && action.data.count <= 1) return false;else {\n            if (item.id === action.data.id && action.data.count > 1) item.count--;\n            return true;\n          }\n        });\n        return { ...state,\n          cartItems: update\n        };\n      }\n\n    case ADD_TO_CART:\n      const cartItem = state.cartItems;\n      let productAlreadyInCart = false;\n      cartItem.forEach(item => {\n        if (item.id === action.data.id) {\n          productAlreadyInCart = true;\n          item.count++;\n        }\n      });\n\n      if (!productAlreadyInCart) {\n        cartItem.push({ ...action.data,\n          count: 1\n        });\n      }\n\n      return { ...state,\n        cartItems: cartItem\n      };\n    // dispatch({type:FETCH_CART_ITEMS,data:cartItem});\n    // localStorage.setItem(\"cartItems\",JSON.stringify(state.cartItems));\n\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["/Users/graj/projects/e-commerece/src/reducer/cartReducer.js"],"names":["FETCH_CART_ITEMS","REMOVE_FROM_CART","ADD_TO_CART","cartReducer","state","action","type","cartItems","data","update","filter","item","id","count","cartItem","productAlreadyInCart","forEach","push"],"mappings":"AAAA,SAAQA,gBAAR,EAA0BC,gBAA1B,EAA4CC,WAA5C,QAA+D,kBAA/D;;AAIA,MAAMC,WAAW,GAAG,CAACC,KAAD,EAASC,MAAT,KAAoB;AACvC,UAAQA,MAAM,CAACC,IAAf;AACO,SAAKN,gBAAL;AACQ,aAAM,EACF,GAAGI,KADD;AAEFG,QAAAA,SAAS,EAACF,MAAM,CAACG;AAFf,OAAN;;AAIR,SAAKP,gBAAL;AAAsB;AAClB,cAAMQ,MAAM,GAAG,CAAC,GAAGL,KAAK,CAACG,SAAV,EAAqBG,MAArB,CAA4BC,IAAI,IAAI;AAC/C,cAAGA,IAAI,CAACC,EAAL,KAAUP,MAAM,CAACG,IAAP,CAAYI,EAAtB,IAA4BP,MAAM,CAACG,IAAP,CAAYK,KAAZ,IAAmB,CAAlD,EACE,OAAO,KAAP,CADF,KAEI;AACF,gBAAGF,IAAI,CAACC,EAAL,KAAUP,MAAM,CAACG,IAAP,CAAYI,EAAtB,IAA4BP,MAAM,CAACG,IAAP,CAAYK,KAAZ,GAAkB,CAAjD,EACEF,IAAI,CAACE,KAAL;AACF,mBAAO,IAAP;AACD;AACJ,SARc,CAAf;AASA,eAAO,EACH,GAAGT,KADA;AAEHG,UAAAA,SAAS,EAACE;AAFP,SAAP;AAIH;;AACD,SAAKP,WAAL;AACQ,YAAMY,QAAQ,GAAGV,KAAK,CAACG,SAAvB;AACA,UAAIQ,oBAAoB,GAAG,KAA3B;AACAD,MAAAA,QAAQ,CAACE,OAAT,CAAiBL,IAAI,IAAI;AACrB,YAAGA,IAAI,CAACC,EAAL,KAAUP,MAAM,CAACG,IAAP,CAAYI,EAAzB,EAA4B;AACxBG,UAAAA,oBAAoB,GAAI,IAAxB;AACAJ,UAAAA,IAAI,CAACE,KAAL;AACH;AACJ,OALD;;AAME,UAAG,CAACE,oBAAJ,EAAyB;AACvBD,QAAAA,QAAQ,CAACG,IAAT,CAAc,EAAC,GAAGZ,MAAM,CAACG,IAAX;AAAgBK,UAAAA,KAAK,EAAC;AAAtB,SAAd;AACD;;AACH,aAAM,EACF,GAAGT,KADD;AAEFG,QAAAA,SAAS,EAACO;AAFR,OAAN;AAIA;AACA;;AAEd;AACC,aAAOV,KAAP;AAzCF;AA2CA,CA5CD;;AA6CA,eAAgBD,WAAhB","sourcesContent":["import {FETCH_CART_ITEMS, REMOVE_FROM_CART, ADD_TO_CART}  from \"../actions/types\";\n\n\n\nconst cartReducer = (state , action) => {\n\tswitch (action.type) {\n        case FETCH_CART_ITEMS:\n                return{\n                    ...state,\n                    cartItems:action.data\n                }\n        case REMOVE_FROM_CART:{\n            const update = [...state.cartItems].filter(item => {\n                if(item.id===action.data.id && action.data.count<=1)\n                  return false;\n                else{\n                  if(item.id===action.data.id && action.data.count>1)\n                    item.count--;\n                  return true;\n                }\n            });\n            return {\n                ...state,\n                cartItems:update\n            }\n        }\n        case ADD_TO_CART:\n                const cartItem = state.cartItems;\n                let productAlreadyInCart = false;\n                cartItem.forEach(item => {\n                    if(item.id===action.data.id){\n                        productAlreadyInCart  = true;\n                        item.count++;\n                    }\n                })\n                  if(!productAlreadyInCart){\n                    cartItem.push({...action.data,count:1})\n                  }\n                return{\n                    ...state,\n                    cartItems:cartItem\n                }\n                // dispatch({type:FETCH_CART_ITEMS,data:cartItem});\n                // localStorage.setItem(\"cartItems\",JSON.stringify(state.cartItems));\n            \n\t\tdefault:\n\t\t\treturn state\n\t}\n}\nexport default  cartReducer;"]},"metadata":{},"sourceType":"module"}